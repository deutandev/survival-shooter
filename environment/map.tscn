[gd_scene load_steps=8 format=3 uid="uid://ci7o2hwcenyhx"]

[ext_resource type="PackedScene" uid="uid://dhpintm4oouv3" path="res://characters/player/player.tscn" id="1_8viek"]
[ext_resource type="Script" uid="uid://by3uf4ticsjm2" path="res://environment/map.gd" id="1_fp5rb"]
[ext_resource type="Script" uid="uid://bvdghlnculcbc" path="res://environment/health_bar.gd" id="2_ml8jp"]
[ext_resource type="Script" uid="uid://wtnvja7gb1yt" path="res://environment/label_manager.gd" id="3_i4838"]
[ext_resource type="PackedScene" uid="uid://6fjm0d64g61c" path="res://drop_item/coin.tscn" id="5_ml8jp"]
[ext_resource type="PackedScene" uid="uid://dj2625ljimjkr" path="res://pooling/object_pool.tscn" id="7_ji8xv"]

[sub_resource type="Curve2D" id="Curve2D_3sytr"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -73, -61, 0, 0, 0, 0, 1979, -60, 0, 0, 0, 0, 1980, 1133, 0, 0, 0, 0, -71, 1131, 0, 0, 0, 0, -73, -61)
}
point_count = 5

[node name="Map" type="Node2D"]
script = ExtResource("1_fp5rb")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -100

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
offset_left = -41.0
offset_top = -5.0
offset_right = 2016.0
offset_bottom = 1097.0

[node name="PlayerHealthBar" type="ProgressBar" parent="CanvasLayer" node_paths=PackedStringArray("target_node")]
modulate = Color(0, 1, 0.486275, 1)
offset_right = 722.0
offset_bottom = 46.0
value = 100.0
script = ExtResource("2_ml8jp")
target_node = NodePath("../../Player")

[node name="CanvasLayer2" type="CanvasLayer" parent="."]

[node name="LabelCode" type="Node2D" parent="CanvasLayer2"]
script = ExtResource("3_i4838")

[node name="CoinTotal" type="Label" parent="CanvasLayer2/LabelCode"]
unique_name_in_owner = true
modulate = Color(0, 0, 0, 1)
offset_left = 3.0
offset_top = 53.0
offset_right = 156.0
offset_bottom = 76.0
text = "Coin: "

[node name="ScoreTotal" type="Label" parent="CanvasLayer2/LabelCode"]
unique_name_in_owner = true
modulate = Color(0, 0, 0, 1)
offset_left = 1.0
offset_top = 89.0
offset_right = 145.0
offset_bottom = 112.0
text = "Score:"

[node name="Player" parent="." instance=ExtResource("1_8viek")]
position = Vector2(1042, 483)

[node name="Path2D" type="Path2D" parent="Player"]
position = Vector2(-1041, -484)
curve = SubResource("Curve2D_3sytr")

[node name="PathFollow2D" type="PathFollow2D" parent="Player/Path2D"]
unique_name_in_owner = true
position = Vector2(-73, -61)
rotation = 0.000487329

[node name="SpawnTimer" type="Timer" parent="."]
autostart = true

[node name="Coin" parent="." instance=ExtResource("5_ml8jp")]
position = Vector2(907, 490)

[node name="MobPool" parent="." instance=ExtResource("7_ji8xv")]

[connection signal="timeout" from="SpawnTimer" to="." method="_on_spawn_timer_timeout"]
